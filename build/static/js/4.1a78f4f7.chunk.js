(this["webpackJsonpreact-router-6-upgrade"]=this["webpackJsonpreact-router-6-upgrade"]||[]).push([[4],{32:function(e,t,n){e.exports={comments:"Comments_comments__UkaLe"}},33:function(e,t,n){e.exports={form:"NewCommentForm_form__2Tlgb",loading:"NewCommentForm_loading__1CZqf",control:"NewCommentForm_control__ObCDg",actions:"NewCommentForm_actions__23UTC"}},34:function(e,t,n){e.exports={item:"CommentItem_item__PX--Q"}},35:function(e,t,n){e.exports={comments:"CommentsList_comments___R35h"}},38:function(e,t,n){"use strict";n.r(t);var c=n(5),s=n(0),o=n(2),m=n(32),r=n.n(m),a=n(20),i=n(21),d=n(9),j=n(33),u=n.n(j),l=n(1),b=function(e){var t=Object(s.useRef)(),n=Object(a.a)(i.a),c=n.sendRequest,o=n.status,m=n.error,r=e.onAddedComment;Object(s.useEffect)((function(){"completed"!==o||m||r()}),[o,m,r]);var j=function(n){n.preventDefault();var s=t.current.value;c({commentData:{text:s},quoteId:e.quoteId})};return Object(l.jsxs)("form",{className:u.a.form,onSubmit:j,children:["pending"===o&&Object(l.jsx)("div",{className:"centered",children:Object(l.jsx)(d.a,{})}),Object(l.jsxs)("div",{className:u.a.control,onSubmit:j,children:[Object(l.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),Object(l.jsx)("textarea",{id:"comment",rows:"5",ref:t})]}),Object(l.jsx)("div",{className:u.a.actions,children:Object(l.jsx)("button",{className:"btn",children:"Add Comment"})})]})},O=n(34),x=n.n(O),f=function(e){return Object(l.jsx)("li",{className:x.a.item,children:Object(l.jsx)("p",{children:e.text})})},h=n(35),_=n.n(h),p=function(e){return Object(l.jsx)("ul",{className:_.a.comments,children:e.comments.map((function(e){return Object(l.jsx)(f,{text:e.text},e.id)}))})};t.default=function(){var e=Object(s.useState)(!1),t=Object(c.a)(e,2),n=t[0],m=t[1],j=Object(o.i)().quoteId,u=Object(a.a)(i.c),O=u.sendRequest,x=u.status,f=u.data;Object(s.useEffect)((function(){O(j)}),[j,O]);var h,_=Object(s.useCallback)((function(){O(j)}),[O,j]);return"pending"===x&&(h=Object(l.jsx)("div",{className:"centered",children:Object(l.jsx)(d.a,{})})),"completed"===x&&f&&f.length>0&&(h=Object(l.jsx)(p,{comments:f})),"completed"!==x||f&&0!==f.length||(h=Object(l.jsx)("p",{className:"centered",children:"No comments were added yet!"})),Object(l.jsxs)("section",{className:r.a.comments,children:[Object(l.jsx)("h2",{children:"User Comments"}),!n&&Object(l.jsx)("button",{className:"btn",onClick:function(){m(!0)},children:"Add a Comment"}),n&&Object(l.jsx)(b,{quoteId:j,onAddedComment:_}),h]})}}}]);
//# sourceMappingURL=4.1a78f4f7.chunk.js.map